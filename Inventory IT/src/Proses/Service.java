package Proses;

import KomponenGUI.FDateF;
import Master.*;
import LSubProces.DRunSelctOne;
import LSubProces.Insert;
import LSubProces.Update;
import java.util.ArrayList;
import javax.swing.JOptionPane;
import java.awt.event.KeyEvent;
import java.util.Calendar;
import java.util.Date;

/**
 *
 * @author Martono
 */
public class Service extends javax.swing.JFrame {

    String idEdit;

    /**
     * Creates new form MasterPemasok
     */
    public Service(Object id) {
        initComponents();
        setLocationRelativeTo(null);
        setDefaultCloseOperation(DISPOSE_ON_CLOSE);
        idEdit = id.toString();
        if (idEdit.equals("0")) {
            setTitle("Tambah Service");
            JBUbah.setVisible(false);
        } else {
            setTitle("Ubah Service");
            loadData();
            JCJenisService.setEnabled(false);
            JBJenisService.setEnabled(false);
            JBTambah.setVisible(false);
            JBTambahTutup.setVisible(false);
        }
        setVisible(true);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        JLJenisService = new KomponenGUI.JlableF();
        JLJenisService2 = new KomponenGUI.JlableF();
        JCJenisService = new KomponenGUI.JcomboboxF();
        JBJenisService = new KomponenGUI.JbuttonF();
        JLJenisBarangService = new KomponenGUI.JlableF();
        JLJenisBarangService2 = new KomponenGUI.JlableF();
        JCJenisBarangService = new KomponenGUI.JcomboboxF();
        JBJenisBarangService = new KomponenGUI.JbuttonF();
        JLNamaBarangService = new KomponenGUI.JlableF();
        JLNamaBarangService2 = new KomponenGUI.JlableF();
        JCNamaBarangService = new KomponenGUI.JcomboboxF();
        JBNamaBarangService = new KomponenGUI.JbuttonF();
        JLTanggalService = new KomponenGUI.JlableF();
        JLTanggalService2 = new KomponenGUI.JlableF();
        JDTanggalService = new KomponenGUI.JdateCF();
        JLTanggalServiceSelanjutnya = new KomponenGUI.JlableF();
        JLTanggalServiceSelanjutnya2 = new KomponenGUI.JlableF();
        JNTanggalServiceSelanjutnya = new KomponenGUI.JNumberOnly();
        JLTanggalServiceSelanjutnya3 = new KomponenGUI.JlableF();
        JDTanggalServiceSelanjutnya = new KomponenGUI.JdateCF();
        JLKeterangan = new KomponenGUI.JlableF();
        JLKeterangan2 = new KomponenGUI.JlableF();
        JSPKeterangan = new javax.swing.JScrollPane();
        JTKeterangan = new KomponenGUI.JTextAreaF();
        JBKembali = new KomponenGUI.JbuttonF();
        JBTambah = new KomponenGUI.JbuttonF();
        JBTambahTutup = new KomponenGUI.JbuttonF();
        JBUbah = new KomponenGUI.JbuttonF();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setResizable(false);
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosed(java.awt.event.WindowEvent evt) {
                formWindowClosed(evt);
            }
        });

        JLJenisService.setText("Jenis Service");

        JLJenisService2.setText(":");

        JCJenisService.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "-- Pilih Jenis Service --" }));
        JCJenisService.load("SELECT '-- Pilih Jenis Service --' AS `JenisService` UNION SELECT `JenisService` FROM `tbmjenisservice`");
        JCJenisService.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                JCJenisServiceKeyReleased(evt);
            }
        });

        JBJenisService.setText("+");
        JBJenisService.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                JBJenisServiceActionPerformed(evt);
            }
        });

        JLJenisBarangService.setText("Jenis Barang Service");

        JLJenisBarangService2.setText(":");

        JCJenisBarangService.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "-- Pilih Jenis Barang Service --" }));
        JCJenisBarangService.load("SELECT '-- Pilih Jenis Barang Service --' AS `JenisBarangService` UNION SELECT `JenisBarangService` FROM `tbmjenisbarangservice`");
        JCJenisBarangService.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                JCJenisBarangServiceItemStateChanged(evt);
            }
        });
        JCJenisBarangService.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                JCJenisBarangServiceKeyReleased(evt);
            }
        });

        JBJenisBarangService.setText("+");
        JBJenisBarangService.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                JBJenisBarangServiceActionPerformed(evt);
            }
        });

        JLNamaBarangService.setText("Nama Barang Service");

        JLNamaBarangService2.setText(":");

        JCNamaBarangService.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "-- Pilih Nama Barang Service --" }));
        JCNamaBarangService.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                JCNamaBarangServiceKeyReleased(evt);
            }
        });

        JBNamaBarangService.setText("+");
        JBNamaBarangService.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                JBNamaBarangServiceActionPerformed(evt);
            }
        });

        JLTanggalService.setText("Tanggal Service");

        JLTanggalService2.setText(":");

        JDTanggalService.setDate(new Date());
        JDTanggalService.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                JDTanggalServiceKeyReleased(evt);
            }
        });

        JLTanggalServiceSelanjutnya.setText("Tanggal Service Selanjutnya");

        JLTanggalServiceSelanjutnya2.setText(":");

        JNTanggalServiceSelanjutnya.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        JNTanggalServiceSelanjutnya.setmaxtText(5);
        JNTanggalServiceSelanjutnya.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                JNTanggalServiceSelanjutnyaFocusLost(evt);
            }
        });
        JNTanggalServiceSelanjutnya.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                JNTanggalServiceSelanjutnyaKeyReleased(evt);
            }
        });

        JLTanggalServiceSelanjutnya3.setText("Hari =");

        JDTanggalServiceSelanjutnya.setDate(new Date());

        JLKeterangan.setText("Keterangan");

        JLKeterangan2.setText(":");

        JTKeterangan.setColumns(20);
        JTKeterangan.setLineWrap(true);
        JTKeterangan.setRows(5);
        JTKeterangan.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                JTKeteranganKeyPressed(evt);
            }
        });
        JSPKeterangan.setViewportView(JTKeterangan);

        JBKembali.setText("Kembali");
        JBKembali.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                JBKembaliActionPerformed(evt);
            }
        });

        JBTambah.setText("Tambah");
        JBTambah.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                JBTambahActionPerformed(evt);
            }
        });

        JBTambahTutup.setText("Tambah dan Tutup");
        JBTambahTutup.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                JBTambahTutupActionPerformed(evt);
            }
        });

        JBUbah.setText("Ubah");
        JBUbah.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                JBUbahActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(JBKembali, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 83, Short.MAX_VALUE)
                        .addComponent(JBTambah, javax.swing.GroupLayout.PREFERRED_SIZE, 115, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(JBTambahTutup, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(JBUbah, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(JLJenisService, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(JLJenisBarangService, javax.swing.GroupLayout.DEFAULT_SIZE, 222, Short.MAX_VALUE)
                            .addComponent(JLKeterangan, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(JLKeterangan2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(JSPKeterangan))
                            .addGroup(layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(JLJenisService2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(JLJenisBarangService2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(JCJenisBarangService, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(JCJenisService, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(JBJenisService, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(JBJenisBarangService, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(JLTanggalService, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(JLTanggalServiceSelanjutnya, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(JLNamaBarangService, javax.swing.GroupLayout.PREFERRED_SIZE, 222, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(JLTanggalServiceSelanjutnya2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(JNTanggalServiceSelanjutnya, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(JLTanggalServiceSelanjutnya3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(JDTanggalServiceSelanjutnya, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addGroup(layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(JLTanggalService2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(JLNamaBarangService2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addGroup(layout.createSequentialGroup()
                                        .addComponent(JCNamaBarangService, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(JBNamaBarangService, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addComponent(JDTanggalService, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))))
                .addGap(10, 10, 10))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(JLJenisService, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(JCJenisService, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(JBJenisService, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(JLJenisService2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(JLJenisBarangService, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(JCJenisBarangService, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(JBJenisBarangService, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(JLJenisBarangService2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(JLNamaBarangService, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(JLNamaBarangService2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(JCNamaBarangService, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(JBNamaBarangService, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(JLTanggalService, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(JLTanggalService2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(JDTanggalService, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(JLTanggalServiceSelanjutnya, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(JLTanggalServiceSelanjutnya2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(JNTanggalServiceSelanjutnya, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(JLTanggalServiceSelanjutnya3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(JDTanggalServiceSelanjutnya, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(JLKeterangan, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(JLKeterangan2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addComponent(JSPKeterangan, javax.swing.GroupLayout.DEFAULT_SIZE, 150, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(JBTambahTutup, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(JBTambah, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(JBUbah, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(JBKembali, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void JBTambahTutupActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_JBTambahTutupActionPerformed
        tambah(true);
    }//GEN-LAST:event_JBTambahTutupActionPerformed

    private void JBTambahActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_JBTambahActionPerformed
        tambah(false);
    }//GEN-LAST:event_JBTambahActionPerformed

    private void JBKembaliActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_JBKembaliActionPerformed
        dispose();
    }//GEN-LAST:event_JBKembaliActionPerformed

    private void JBUbahActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_JBUbahActionPerformed
        ubah();
    }//GEN-LAST:event_JBUbahActionPerformed

    private void JTKeteranganKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_JTKeteranganKeyPressed
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            if (JBTambah.isVisible()) {
                tambah(false);
            } else {
                ubah();
            }
        }
    }//GEN-LAST:event_JTKeteranganKeyPressed

    private void JBJenisServiceActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_JBJenisServiceActionPerformed
        if (GlobalVar.Var.tambahMasterJenisService == null) {
            GlobalVar.Var.tambahMasterJenisService = new MasterJenisService("0");
        } else {
            GlobalVar.Var.tambahMasterJenisService.setState(NORMAL);
            GlobalVar.Var.tambahMasterJenisService.toFront();
        }
    }//GEN-LAST:event_JBJenisServiceActionPerformed

    private void JCJenisServiceKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_JCJenisServiceKeyReleased
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            if (JCJenisService.getSelectedIndex() == 0) {
                JCJenisService.showPopup();
            } else {
                JCJenisBarangService.requestFocus();
            }
        }
    }//GEN-LAST:event_JCJenisServiceKeyReleased

    private void JCJenisBarangServiceKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_JCJenisBarangServiceKeyReleased
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            if (JCJenisBarangService.getSelectedIndex() == 0) {
                JCJenisBarangService.showPopup();
            } else {
                JCNamaBarangService.requestFocus();
            }
        }
    }//GEN-LAST:event_JCJenisBarangServiceKeyReleased

    private void JBJenisBarangServiceActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_JBJenisBarangServiceActionPerformed
        if (GlobalVar.Var.tambahMasterJenisBarangService == null) {
            GlobalVar.Var.tambahMasterJenisBarangService = new MasterJenisBarangService("0");
        } else {
            GlobalVar.Var.tambahMasterJenisBarangService.setState(NORMAL);
            GlobalVar.Var.tambahMasterJenisBarangService.toFront();
        }
    }//GEN-LAST:event_JBJenisBarangServiceActionPerformed

    private void JCNamaBarangServiceKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_JCNamaBarangServiceKeyReleased
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            if (JCNamaBarangService.getSelectedIndex() == 0) {
                JCNamaBarangService.showPopup();
            } else {
                JDTanggalService.requestFocus();
            }
        }
    }//GEN-LAST:event_JCNamaBarangServiceKeyReleased

    private void JBNamaBarangServiceActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_JBNamaBarangServiceActionPerformed
        if (GlobalVar.Var.tambahMasterBarangService == null) {
            GlobalVar.Var.tambahMasterBarangService = new MasterBarangService("0+" + JCJenisBarangService.getSelectedItem());
        } else {
            GlobalVar.Var.tambahMasterBarangService.setState(NORMAL);
            GlobalVar.Var.tambahMasterBarangService.toFront();
        }
    }//GEN-LAST:event_JBNamaBarangServiceActionPerformed

    private void JDTanggalServiceKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_JDTanggalServiceKeyReleased
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            JNTanggalServiceSelanjutnya.requestFocus();
        }
    }//GEN-LAST:event_JDTanggalServiceKeyReleased

    private void JCJenisBarangServiceItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_JCJenisBarangServiceItemStateChanged
        JCNamaBarangService.load("SELECT '-- Pilih Nama Barang Service --' AS `NamaBarangService` UNION SELECT `NamaBarangService` FROM `tbmbarangservice` AS A JOIN `tbmjenisbarangservice` AS B ON A.`IdJenisBarangService`=B.`IdJenisBarangService` LEFT JOIN `tbservice` AS C ON A.`IdBarangService`=C.`IdBarangService` WHERE `JenisBarangService`='" + JCJenisBarangService.getSelectedItem() + "' AND (C.`IdBarangService` IS NULL OR `IdService`='" + idEdit + "')");
    }//GEN-LAST:event_JCJenisBarangServiceItemStateChanged

    private void JNTanggalServiceSelanjutnyaKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_JNTanggalServiceSelanjutnyaKeyReleased
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            JTKeterangan.requestFocus();
        }
    }//GEN-LAST:event_JNTanggalServiceSelanjutnyaKeyReleased

    private void JNTanggalServiceSelanjutnyaFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_JNTanggalServiceSelanjutnyaFocusLost
        nextService(Integer.valueOf(JNTanggalServiceSelanjutnya.getText()));
    }//GEN-LAST:event_JNTanggalServiceSelanjutnyaFocusLost

    private void formWindowClosed(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowClosed
        if (idEdit.equals("0")) {
            GlobalVar.Var.tambahService = null;
        } else {
            GlobalVar.Var.editService = null;
        }
    }//GEN-LAST:event_formWindowClosed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Service.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Service.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Service.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Service.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Service("0");
            }
        });
    }

    boolean checkInput() {
        if (JCJenisService.getSelectedIndex() == 0) {
            JOptionPane.showMessageDialog(this, "Jenis Service Harus Dipilih", "Information", JOptionPane.INFORMATION_MESSAGE);
            JCJenisService.requestFocus();
            return false;
        } else if (JCJenisBarangService.getSelectedIndex() == 0) {
            JOptionPane.showMessageDialog(this, "Jenis Barang Service Harus Dipilih", "Information", JOptionPane.INFORMATION_MESSAGE);
            JCJenisBarangService.requestFocus();
            return false;
        } else if (JCNamaBarangService.getSelectedIndex() == 0) {
            JOptionPane.showMessageDialog(this, "Nama Barang Service Harus Dipilih", "Information", JOptionPane.INFORMATION_MESSAGE);
            JCNamaBarangService.requestFocus();
            return false;
        } else if (JDTanggalService.getDate() == null) {
            JOptionPane.showMessageDialog(this, "Tanggal Service Tidak Boleh Kosong", "Information", JOptionPane.INFORMATION_MESSAGE);
            JDTanggalService.requestFocus();
            return false;
        } else if (JDTanggalServiceSelanjutnya.getDate() == null) {
            JOptionPane.showMessageDialog(this, "Tanggal Service Selanjutnya Tidak Boleh Kosong", "Information", JOptionPane.INFORMATION_MESSAGE);
            JDTanggalServiceSelanjutnya.requestFocus();
            return false;
        } else if (JDTanggalServiceSelanjutnya.getDate().compareTo(JDTanggalService.getDate()) < 0) {
            JOptionPane.showMessageDialog(this, "Tanggal Service Selanjutnya Tidak Boleh Lebih Kecil Dari Tanggal Service Sekarang", "Information", JOptionPane.INFORMATION_MESSAGE);
            JDTanggalServiceSelanjutnya.requestFocus();
            return false;
        } else {
            return true;
        }
    }

    void nextService(int hari) {
        Calendar calendar = Calendar.getInstance();
        calendar.setTime(JDTanggalService.getDate());
        for (int index = 0; index < hari; index++) {
            calendar.add(Calendar.DATE, 1);
        }
        JDTanggalServiceSelanjutnya.setDate(calendar.getTime());
    }

    void tambah(boolean tutup) {
        if (checkInput()) {
            Insert insert = new LSubProces.Insert();
            boolean simpan = insert.Simpan("INSERT INTO `tbservice`(`IdJenisService`, `IdBarangService`, `TanggalService`, `TanggalServiceSelanjutnya`, `Keterangan`) VALUES ((SELECT `IdJenisService` FROM `tbmjenisservice` WHERE `JenisService`='" + JCJenisService.getSelectedItem() + "'), (SELECT `IdBarangService` FROM `tbmbarangservice` AS A JOIN `tbmjenisbarangservice` AS B ON A.`IdJenisBarangService`=B.`IdJenisBarangService` WHERE `NamaBarangService`='" + JCNamaBarangService.getSelectedItem() + "'), '" + FDateF.datetostr(JDTanggalService.getDate(), "yyyy-MM-dd") + "', '" + FDateF.datetostr(JDTanggalServiceSelanjutnya.getDate(), "yyyy-MM-dd") + "', '" + JTKeterangan.getText() + "')", "Tambah Data Service", this);
            if (simpan) {
                if (GlobalVar.Var.listService != null) {
                    GlobalVar.Var.listService.load();
                }
                if (tutup) {
                    GlobalVar.Var.tambahService.dispose();
                } else {
                    clearText();
                    JCJenisService.requestFocus();
                }
            }
        }
    }

    void clearText() {
        JCJenisService.setSelectedIndex(0);
        JCJenisBarangService.setSelectedIndex(0);
        JCNamaBarangService.setSelectedIndex(0);
        JDTanggalService.setDate(new Date());
        JNTanggalServiceSelanjutnya.setText("0");
        JDTanggalServiceSelanjutnya.setDate(new Date());
        JTKeterangan.setText("");
    }

    void loadData() {
        DRunSelctOne dRunSelctOne = new DRunSelctOne();
        dRunSelctOne.seterorm("Gagal Menampilkan Data Service");
        dRunSelctOne.setQuery("SELECT `IdService`, `JenisService`, `JenisBarangService`, `NamaBarangService`, `TanggalService`, `TanggalServiceSelanjutnya`, A.`Keterangan` FROM `tbservice` AS A JOIN `tbmjenisservice` AS B ON A.`IdJenisService`=B.`IdJenisService` JOIN `tbmbarangservice` AS C ON A.`IdBarangService`=C.`IdBarangService` JOIN `tbmjenisbarangservice` AS D ON C.`IdJenisBarangService`=D.`IdJenisBarangService` WHERE `IdService`='" + idEdit + "'");
        ArrayList<String> list = dRunSelctOne.excute();
        JCJenisService.setSelectedItem(list.get(1));
        JCJenisBarangService.setSelectedItem(list.get(2));
        JCNamaBarangService.setSelectedItem(list.get(3));
        JDTanggalService.setDate(FDateF.strtodate(list.get(4), "yyyy-MM-dd"));
        JDTanggalServiceSelanjutnya.setDate(FDateF.strtodate(list.get(5), "yyyy-MM-dd"));
        JTKeterangan.setText(list.get(6));
    }

    void ubah() {
        if (checkInput()) {
            Update update = new LSubProces.Update();
            boolean ubah = update.Ubah("UPDATE `tbservice` SET `IdBarangService`=(SELECT `IdBarangService` FROM `tbmbarangservice` AS A JOIN `tbmjenisbarangservice` AS B ON A.`IdJenisBarangService`=B.`IdJenisBarangService` WHERE `JenisBarangService`='" + JCJenisBarangService.getSelectedItem() + "' AND `NamaBarangService`='" + JCNamaBarangService.getSelectedItem() + "'), `TanggalService`='" + FDateF.datetostr(JDTanggalService.getDate(), "yyyy-MM-dd") + "', `TanggalServiceSelanjutnya`='" + FDateF.datetostr(JDTanggalServiceSelanjutnya.getDate(), "yyyy-MM-dd") + "', `Keterangan`='" + JTKeterangan.getText() + "' WHERE `IdService`=" + idEdit, "Ubah Data Service", this);
            if (ubah) {
                dispose();
                if (GlobalVar.Var.listService != null) {
                    GlobalVar.Var.listService.load();
                }
            }
        }
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private KomponenGUI.JbuttonF JBJenisBarangService;
    private KomponenGUI.JbuttonF JBJenisService;
    private KomponenGUI.JbuttonF JBKembali;
    private KomponenGUI.JbuttonF JBNamaBarangService;
    private KomponenGUI.JbuttonF JBTambah;
    private KomponenGUI.JbuttonF JBTambahTutup;
    private KomponenGUI.JbuttonF JBUbah;
    public KomponenGUI.JcomboboxF JCJenisBarangService;
    public KomponenGUI.JcomboboxF JCJenisService;
    public KomponenGUI.JcomboboxF JCNamaBarangService;
    private KomponenGUI.JdateCF JDTanggalService;
    private KomponenGUI.JdateCF JDTanggalServiceSelanjutnya;
    private KomponenGUI.JlableF JLJenisBarangService;
    private KomponenGUI.JlableF JLJenisBarangService2;
    private KomponenGUI.JlableF JLJenisService;
    private KomponenGUI.JlableF JLJenisService2;
    private KomponenGUI.JlableF JLKeterangan;
    private KomponenGUI.JlableF JLKeterangan2;
    private KomponenGUI.JlableF JLNamaBarangService;
    private KomponenGUI.JlableF JLNamaBarangService2;
    private KomponenGUI.JlableF JLTanggalService;
    private KomponenGUI.JlableF JLTanggalService2;
    private KomponenGUI.JlableF JLTanggalServiceSelanjutnya;
    private KomponenGUI.JlableF JLTanggalServiceSelanjutnya2;
    private KomponenGUI.JlableF JLTanggalServiceSelanjutnya3;
    private KomponenGUI.JNumberOnly JNTanggalServiceSelanjutnya;
    private javax.swing.JScrollPane JSPKeterangan;
    private KomponenGUI.JTextAreaF JTKeterangan;
    // End of variables declaration//GEN-END:variables
}
